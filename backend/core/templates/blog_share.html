<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <!-- Dynamic meta tags for social sharing -->
    <title>{{ title }}</title>
    <meta name="description" content="{{ description }}" />
    
    <!-- Canonical URL -->
    <link rel="canonical" href="{{ url }}" />
    
    <!-- Open Graph Meta Tags for Social Media Preview -->
    <meta property="og:title" content="{{ title }}" />
    <meta property="og:description" content="{{ description }}" />
    <meta property="og:image" content="{{ image }}" />
    <meta property="og:image:alt" content="{{ title }}" />
    <meta property="og:url" content="{{ url }}" />
    <meta property="og:type" content="{{ og_type }}" />
    <meta property="og:site_name" content="Vikra Hub" />
    <meta property="og:locale" content="en_US" />
    
    {% if article %}
    <!-- Article specific meta tags -->
    <meta property="article:author" content="{{ article.author }}" />
    <meta property="article:published_time" content="{{ article.published_time }}" />
    <meta property="article:modified_time" content="{{ article.modified_time }}" />
    <meta property="article:section" content="{{ article.section }}" />
    {% for tag in article.tags %}
    <meta property="article:tag" content="{{ tag }}" />
    {% endfor %}
    {% endif %}
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="{{ title }}" />
    <meta name="twitter:description" content="{{ description }}" />
    <meta name="twitter:image" content="{{ image }}" />
    <meta name="twitter:image:alt" content="{{ title }}" />
    <meta name="twitter:site" content="@vikrahub" />
    
    <!-- Basic meta tags -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#ffa000" />
    <meta name="author" content="Vikra Hub" />
    <meta name="robots" content="index, follow" />
    
    <!-- Favicon -->
    <link rel="icon" href="/vikrahub-favicon.svg" type="image/svg+xml" />
    <link rel="shortcut icon" href="/favicon.ico" />
    
    <!-- JSON-LD structured data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "{{ structured_data_type }}",
        "headline": "{{ blog.title }}",
        "description": "{{ description }}",
        "image": "{{ image }}",
        "url": "{{ url }}",
        "publisher": {
            "@type": "Organization",
            "name": "Vikra Hub",
            "logo": {
                "@type": "ImageObject",
                "url": "{{ request.build_absolute_uri }}/vikrahub-logo.svg"
            }
        }{% if article %},
        "author": {
            "@type": "Person",
            "name": "{{ article.author }}"
        },
        "datePublished": "{{ article.published_time }}",
        "dateModified": "{{ article.modified_time }}",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "{{ url }}"
        }{% endif %}
    }
    </script>
    
    <!-- Redirect to React app after a short delay -->
    <script>
        // Redirect to React app for human users (not crawlers)
        if (window.location.hash === '' || window.location.hash === '#') {
            setTimeout(function() {
                window.location.href = '/#/blog/{{ blog.slug }}';
            }, 100);
        }
    </script>
</head>
<body style="font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px;">
    <!-- Minimal content for crawlers -->
    <article>
        <header>
            {% if blog.category %}
            <div style="background: #ffa000; color: white; display: inline-block; padding: 5px 15px; border-radius: 15px; font-size: 14px; margin-bottom: 15px;">
                {{ blog.category }}
            </div>
            {% endif %}
            
            <h1 style="color: #7c521b; font-size: 2.5rem; margin-bottom: 1rem;">{{ blog.title }}</h1>
            
            {% if blog.excerpt %}
            <p style="font-size: 1.2rem; color: #666; margin-bottom: 1.5rem;">{{ blog.excerpt }}</p>
            {% endif %}
            
            <div style="color: #888; font-size: 0.9rem; margin-bottom: 2rem;">
                By {{ article.author }} • {{ blog.created_at|date:"F d, Y" }}
                {% if blog.tags_list %}
                <br>Tags: 
                {% for tag in blog.tags_list %}
                    <span style="background: #f0f0f0; padding: 2px 8px; border-radius: 10px; font-size: 0.8rem; margin-right: 5px;">{{ tag }}</span>
                {% endfor %}
                {% endif %}
            </div>
        </header>
        
        {% if blog.image %}
        <div style="margin-bottom: 2rem;">
            <img src="{{ blog.image }}" alt="{{ blog.title }}" style="width: 100%; height: 400px; object-fit: cover; border-radius: 8px;" />
        </div>
        {% endif %}
        
        <div style="line-height: 1.6; color: #333;">
            {{ blog.content|linebreaks }}
        </div>
    </article>
    
    <footer style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid #eee; text-align: center;">
        <p style="color: #888;">
            <a href="/" style="color: #7c521b; text-decoration: none;">← Back to Vikra Hub</a> | 
            <a href="/blog" style="color: #7c521b; text-decoration: none;">View All Blog Posts</a>
        </p>
        <p style="color: #999; font-size: 0.9rem;">
            VikraHub - Empowering South Sudanese Creatives
        </p>
    </footer>
</body>
</html>
